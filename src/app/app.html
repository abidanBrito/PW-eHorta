<!DOCTYPE html>

<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no">
    <!-- Internet Explorer Compatibility Layer enabled -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <!-- Stylesheet, favicon and font -->
    <link rel="icon" type="image/x-icon" href="../../img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/common_style.css">
    <link rel="stylesheet" type="text/css" href="css/app_style.css">
    <link rel="stylesheet" type="text/css" href="css/common_style.css">
    <!-- Chart.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.bundle.min.js"></script>


    <link href="https://fonts.googleapis.com/css?family=Roboto&display=swap" rel="stylesheet">
    <title>e-Horta</title>
    <!--script src="js/restringir_acceso.js"></script-->

</head>

<body class="main">
    <!-- Top bar (navigation menu) -->
    <header>
        <!-- Corporative brand -->
        <nav class="navbar">
            <a id="logo" class="white-filter" href="../index.html">
                <img src="img/logo_v2.svg" alt="LOGO">
            </a>
            <!-- Navigation menu -->
            <ul class="navbar-links">
                <li>
                    <a href="add.html">Añadir campo</a>
                </li>
                <li>
                    <a href="javascript:fetch('../api/v1.0/sesion', { method: 'delete' }).then(
        function(respuesta) {
            if (respuesta.status == 200) location.href = '../index.html';
        })">Cerrar sesión</a>
                </li>
            </ul>
            <div class="navbar-right">
                <!-- Mobile navbar -->
                <div class="menu-icon" id="menu-toggle">

                    <a href="add.html" class="white-filter" style="text-decoration:none;">Añadir campo</a>

                    <a style="text-decoration: none;" href="javascript:fetch('../api/v1.0/sesion', { method: 'delete' }).then(
        function(respuesta) {
            if (respuesta.status == 200) location.href = '../index.html';
        })" class="white-filter mobile-navbar-link">Cerrar sesión</a>
                </div>
            </div>
        </nav>
    </header>

    <div id="map_tabla">
        <div id="tab_and_head">
            <div id="div_h2">
                <h2>MIS CAMPOS </h2>
                <div id="div_h2buttons">
                    <a class='edit-button' href="javascript:openForm();" title='Editar' margin='50px'><img src='img/edit.PNG' width='30' height='30' /></a>

                    <a class='delete-button' href="javascript:document.getElementById('checkboxId').style.display='inline'" title='Eliminar' margin='50px'><img src='img/delete.png' width='30' height='30' /></a>

                    <a class='add-button' href="javascript:document.getElementById('checkboxId').style.display='inline'" title='Añadir' margin='50px'><img src='img/add.PNG' width='30' height='30' /></a></div>
            </div>


            <div id="tab">
                <table>

                    <thead>
                        <tr>
                        </tr>
                    </thead>
                    <tbody id="fields">

                    </tbody>
                </table>
            </div>
        </div>
        <select id="select-css" onchange="location = this.value;">

            <option selected="#" disable selected hidden>Seleccione parcela...</option>

        </select>

        <div class="form-popup" id="myForm" style="border-radius: 15px;margin-left: 10px;">
            <form action="/action_page.php" class="form-container">
                <div style="display: flex;">
                
                    <a href='javascript:closeForm()' id="button_close_pop" style="display: flex;align-content: flex-end;"><img src="img/close.png" alt="Cerrar"></a>
   
                </div>
              
                <label for="coordenada-X"><b>Coordenada-X</b></label>
                <input type="text" placeholder="Coordenada-X" name="coordenada-X">

                <label for="coordenada-Y"><b>Coordenada-Y</b></label>
                <input type="text" placeholder="Coordenada-Y" name="coordenada-Y">

                <label for="name"><b>Nombre</b></label>
                <input type="text" placeholder="Nombre parcela" name="name">

                <button type="submit" class="btn">Aplicar</button>
                <!--button type="button" class="btn cancel" onclick="closeForm()">Close</button-->
            </form>
        </div>

        <script src="js/plots_list.js"></script>
        <script>
            // "text" es la id del objeto donde se muestran los datos
            ViewPlotsList.prepare("fields", "select-css");
            // Se inicializa el controlador
            PlotsController.init();

        </script>


        <section id="map">
            <script src="js/map.js"></script>
            <script src="js/delete.js"></script>
            <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCIAkvbXtoyr0W_VfFkc9OH4MjBvYNcwy4&callback=initMap" async defer>
            </script>
        </section>
    </div>
    <!------------------------>

    <script>
        function openForm() {
            document.getElementById("myForm").style.display = "flex";
            document.getElementById("myForm").style.flex.flow = "column";

        }

        function closeForm() {
            document.getElementById("myForm").style.display = "none";
        }

    </script>
    <!------------------------>
    <div id="app">
        <section class="dates">
            <input placeholder="Fecha inicio" type="text" onfocus="(this.type='date')">
            <strong>|</strong>
            <input placeholder="Fecha final" class="textbox-n" type="text" onfocus="(this.type='date')">

            <div class="chart-container">
                <canvas id="chart"></canvas>
            </div>

            <script id="graphic_script" src=js/graphic-data.js></script>

        </section>
    </div>


</body>

</html>
