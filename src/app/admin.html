<!--
    AUTHOR: DANIEL BURRUCHAGA SOLA
    FILE: admin.html
    DATE: 16/04/20
    STATE: DONE



Admin page, esta página sirve para poder editar los clientes y sus parcelas, también
puede añadir nuev@s de estos dos y eliminar estos.

Posee:
    Dos links que harán la funcion de filtrado de la busqueda entre dividiendo entre parcelas
    y clientes.

    Un buscador con un botón de "submit" desde el cual se procederá con la busqueda.

    Dos botones, Añadir / Eliminar
         Al hacer click en Añadir se abrirá un pop Up con un selector de cliente/ parcela y dependiendo cual esté activo visualizará la opción de añadir de uno u otro respectivamente.
         Al hacer click en Eliminar se visualizarán las checkbox para permitir eliminar varias opciones de una.


    La opción de editar se visualiza al costado derecho del nombre, desde el cual se podrá
    editar el nombre, coordenadas.

    Al hacer click en un cliente debe ir a su panel_Hero respectivo.¿?
    Al hacer click en una parcela debe ir a su panel_Hero respectivo.¿?

-->


<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Default character set -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no">

    <!-- Internet Explorer Compatibility Layer enabled -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!--BootsTrap 4-->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

    <!--Css Link-->

    <link rel="icon" type="image/x-icon" href="img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/app_style.css">
    <link rel="stylesheet" type="text/css" href="css/common_style.css">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="css/all.min.css">

    <title>Admin</title>
    <script src="js/restringir_acceso_admin.js"></script>
    <script src="js/delete_sesion.js"></script>



</head>

<body class="admin_page">
    <!-- Top bar (navigation menu) -->
    <header>
        <!-- Corporative brand -->
        <a id="logo" class="white-filter" href="../index.html">
            <img src="img/logo_v2.svg" alt="LOGO">
        </a>

        <nav class="navbar">
            <!-- Navigation menu -->
            <ul class="navbar-links" style="margin-bottom: 0;">
                <!--
                <li>
                    <a href="#">Notificaciones</a>
                </li>
                <li>
                    <a href="#">Mi cuenta</a>
                </li>
            -->
                <li>
                    <a onclick="delete_sesion()" href="#">Cerrar sesión</a>
                </li>
            </ul>
            <div class="navbar-right">
                <!-- Mobile menu icon -->
                <div class="menu-icon" id="menu-toggle">
                    <div class="line-top"></div>
                    <div class="line-mid"></div>
                    <div class="line-bot"></div>
                </div>
            </div>
        </nav>
    </header>



    <div class="page">
        <div class="arriba">
            <i class="fas fa-plus" data-toggle="collapse" data-target="#createUser" aria-expanded="false" aria-controls="createUser"></i>
            <p>Gestión de usuarios</p>
        </div>

        <div class="input-group" id="search_mobile">
            <input type="text" id="searchInput" onkeyup="filterFunction()" class="form-control search_mobile" placeholder="Búsqueda" onchange="value = this.value">
            <i class="fas fa-search searchIcon" style="font-size: 1.5rem; margin: auto 0;"></i>
        </div>

        <div class="collapse" id="createUser">
            <div class="title">
                <i class="fas fa-angle-left" data-toggle="collapse" data-target="#createUser" aria-expanded="false" aria-controls="createUser"></i>
                <h3>Nuevo usuario</h3>
            </div>
            <div class="newUserData">
                <input class="input-login" type="text" name="newUserName" placeholder="Nombre" required>
                <input class="input-login" type="text" name="newUserSurname" placeholder="Apellidos" required>
                <input class="input-login" type="text" name="newUserEmail" placeholder="E-mail" required>
                <input class="input-login" type="text" name="newUserPassword" placeholder="Contraseña" required>
                <select name="roleId" id="newUserRoleId" onchange="value=this.value" required>
                    <option disabled >Rol</option>
                    <option disabled>----------------------------------------------</option>
                    <option value="1">Cliente</option>
                    <option value="2">Administrador</option>
                    <option value="3">Cliente-administrador</option>
                    <option value="4">Técnico</option>
                </select>
                <button class="button" onclick="add_user()" style="width: 252px; margin-left: 0;">Añadir</button>
            </div>
        </div>
        <div id="usersList">

        </div>
    </div>

    <!-- Scripts -->
    <script src="js/admin_plots_list.js"></script>
    <script src="js/users_list.js"></script>

    <script>
        ViewUsersList.prepare("usersList");
        // Se inicializa el controlador
        UsersController.init();
    </script>
    <script>
        setTimeout(() => {
            AdminPlotsController.init();

        }, 1000);
    </script>

    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="js/navbar.js"></script>
    <script src="js/add.js"></script>
    <script src="js/search.js"></script>
    <script src="js/delete.js"></script>

</body>

</html>