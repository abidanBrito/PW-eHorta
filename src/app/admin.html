<!--
    AUTHOR: DANIEL BURRUCHAGA SOLA
    FILE: admin.html
    DATE: 16/04/20
    STATE: DONE



Admin page, esta página sirve para poder editar los clientes y sus parcelas, también
puede añadir nuev@s de estos dos y eliminar estos.

Posee:
    Dos links que harán la funcion de filtrado de la busqueda entre dividiendo entre parcelas
    y clientes.

    Un buscador con un botón de "submit" desde el cual se procederá con la busqueda.

    Dos botones, Añadir / Eliminar
         Al hacer click en Añadir se abrirá un pop Up con un selector de cliente/ parcela y dependiendo cual esté activo visualizará la opción de añadir de uno u otro respectivamente.
         Al hacer click en Eliminar se visualizarán las checkbox para permitir eliminar varias opciones de una.


    La opción de editar se visualiza al costado derecho del nombre, desde el cual se podrá
    editar el nombre, coordenadas.

    Al hacer click en un cliente debe ir a su panel_Hero respectivo.¿?
    Al hacer click en una parcela debe ir a su panel_Hero respectivo.¿?

-->


<!DOCTYPE html>
<html lang="es">

<head>
    <!-- Default character set -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, shrink-to-fit=no">

    <!-- Internet Explorer Compatibility Layer enabled -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <!--BootsTrap 4-->
    <link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">

    <!--Css Link-->

    <link rel="icon" type="image/x-icon" href="../../img/favicon.ico">
    <link rel="stylesheet" type="text/css" href="css/app_style.css">
    <link rel="stylesheet" type="text/css" href="css/common_style.css">

    <!-- FontAwesome -->
    <link rel="stylesheet" href="css/all.min.css">

    <title>Admin</title>
    <script src="js/restringir_acceso_admin.js"></script>
    <script src="js/delete_sesion.js"></script>


</head>

<body class="admin_page">
    <!-- Top bar (navigation menu) -->
    <header>
        <!-- Corporative brand -->
        <a id="logo" class="white-filter" href="../index.html">
            <img src="img/logo_v2.svg" alt="LOGO">
        </a>

        <nav class="navbar">
            <!-- Navigation menu -->
            <ul class="navbar-links" style="margin-bottom: 0;">
                <!--
                <li>
                    <a href="#">Notificaciones</a>
                </li>
                <li>
                    <a href="#">Mi cuenta</a>
                </li>
            -->
                <li>
                    <a onclick="delete_sesion()" href="#">Cerrar sesión</a>
                </li>
            </ul>
            <div class="navbar-right">
                <!-- Mobile menu icon -->
                <div class="menu-icon" id="menu-toggle">
                    <div class="line-top"></div>
                    <div class="line-mid"></div>
                    <div class="line-bot"></div>
                </div>
            </div>
        </nav>
    </header>

    <div class="page">
        <!-- Start Admin Page-->

        <h2 id="admin_h2">Bienvenido Admin</h2>
        <div id="buttons_div">
            <!--Customer / plot filter-->
            <a id="user_form" class="admin_a" href='javascript:userEnab_mapDisab()'>Usuarios</a>
            <span> | </span>
            <a id="plot_form" class="admin_a" href='javascript:userDisab_mapEnab()'>Parcelas</a>
        </div>

        <!-- Search PC-->

        <div class="input-group" id="search_pc">
            <input type="text" id="searchInput" onkeyup="javascript:filterFunction()" class="form-control" placeholder="" aria-label="" aria-describedby="basic-addon1" style="text-align: center; height: 40px;">
            <button id="searchButton" class="btn" type="button"><img id="" src="img/search.svg" style="height: 30px;" alt="Submit"></button>
        </div>
        <div id="div_add_del">
            <!--Add/ Delete buttons-->
            <button class="buttons_Add_del" data-toggle="collapse" data-target="#divAddUser" aria-expanded="false" aria-controls="divAddUser" id="button_Add_customer" style="margin-right: 2%;display: initial;">Añadir</button>
            <!--Add customer button-->

            <button class="buttons_Add_del" data-toggle="collapse" data-target="#divAddPlot" aria-expanded="false" aria-controls="divAddPlot" id="button_Add_plot" style="margin-right: 2%;display: none; ">Añadir</button>
            <!--Add plot button-->
            <button class="buttons_Add_del" onclick="deleteAdmin()">Eliminar</button>
            <!--Delete -->

        </div>
        <!--Search Mobile-->
        <div class="input-group" id="search_mobile">
            <input type="text" id="searchInputMobile" onkeyup="filterFunctionMobile()" class="form-control search_mobile" placeholder="Búsqueda" onchange="value = ">
            <i class="fas fa-search searchIcon" style="font-size: 1.5rem; margin: auto 0;"></i>
        </div>
    </div>

    <div>
        <div class="collapse" id="divAddUser">
            <div id="addUser">
                <p class="close" onclick="javasctipt:document.getElementById('button_Add_customer').click()">X</p>
                <h4>Añadir usuario</h4>
                <form id="formUser">
                    <input required type="text" class="input-login" placeholder="Nombre">
                    <input required type="text" class="input-login" placeholder="Apellidos">
                    <input required type="text" class="input-login" placeholder="Correo">
                    <input required type="text" class="input-login" placeholder="Contraseña">
                    <select required id="selectRole" name="role">
                            <option value="0">Seleccionar rol...</option>
                            <option value="1">Usuario</option>
                            <option value="2">Administrador</option>
                            <option value="3">Cliente-administrador</option>
                            <option value="4">Personal técnico</option>
                    </select>
                </form>
                <button class="button" onclick="add_user()">Añadir cliente</button>
            </div>
        </div>
        <div class="collapse" id="divAddPlot">
            <div id="addPlot">
                <p class="close" onclick="javascript:document.getElementById('button_Add_plot').click()">X</p>
                <h4>Añadir parcela</h4>
                <p><strong>DETALLES DE LA PARCELA</strong></p>
                <input required name="plotName" type="text" class="input-login" placeholder="Nombre de la parcela">
                <div id="div-polygons">
                    <input type="text" class="polygons input-login" name="latitud" placeholder="Latitud">
                    <input type="text" class="polygons input-login" name="longitud" placeholder="Longitud">
                </div>
                <div class="addVertex" name="div-polygons">
                    <p class="add" style="cursor: pointer;" onclick="addCoord('div-polygons')">Añadir vértice</p>
                    <p class="counter">Vértices: 0</p>
                </div>
                <p class="sondas"><strong>Sondas</strong></p>
                <div id="div-probes">
                    <input type="text" class="probes input-login" name="latitud" placeholder="Latitud">
                    <input type="text" class="probes input-login" name="longitud" placeholder="Longitud">
                </div>
                <div class="addVertex" name="div-probes">
                    <p class="add" style="cursor: pointer;" onclick="addCoord('div-probes')">Añadir sonda</p>
                    <p class="counter">Sondas: <span>0</span></p>
                </div>
                <div class="plot-buttons">
                    <button class="button" type="submit" onclick="updateMap()">Vista previa</button>
                    <button class="button" type="submit" type="submit" onclick="addPlot()">Añadir parcela</button>
                </div>
            </div>
            <script src="js/addMap.js"></script>
            <div id="preview" style="display: none;">
                <img src="img/back.svg" class="undo" alt="Undo" onclick="closeMap()">
                <div id="addMap">
                    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCIAkvbXtoyr0W_VfFkc9OH4MjBvYNcwy4&callback=initMap" async defer>
                    </script>
                </div>
            </div>
        </div>




        <!-- TABLA ADMIN -->
        <table id="admin_table" class="table">

        </table>
        <!-- ACABA TABLA -->


        <!-- finish Admin Table -->
        <script src="js/users_list.js"></script>
        <script>
            ViewUsersList.prepare("admin_table");
            // Se inicializa el controlador
            UsersController.init();
        </script>
        <script src="js/all_plots_list.js"></script>
    </div>
    </div>
    <!-- Scripts -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="js/navbar.js"></script>
    <script src="js/add.js"></script>
    <script src="js/search.js"></script>
    <script src="js/delete.js"></script>
</body>

</html>